<md-content layout-margin layout-padding>
  <!-- <div fxLayout="row" fxLayoutAlign="end center">
    <button mat-raised-button color="primary" *ngIf="editAccess">
      {{ actionName | translate }}
    </button>
  </div> -->
  <form [formGroup]="reactiveForm" (ngSubmit)="onSubmit()">
    <mat-card>
      <mat-card-header>
        <mat-card-title
          >{{ 'COMMUNICATION_METHOD.PAGE_TITLE' | translate }}
          <caption *ngIf="dependantId != '0'">
            <small> #{{ dependantId }} </small>
          </caption>
        </mat-card-title>
      </mat-card-header>

      <mat-card-content fxLayout="column" fxLayoutGap="5" class="full-width">
        <div fxLayout="row" fxLayoutGap="5px">
          <mat-form-field>
            <mat-label>{{ 'DEPENDANT.NAME' | translate }}</mat-label>
            <input formControlName="name" matInput />
          </mat-form-field>
          <mat-form-field>
            <mat-label>{{ 'DEPENDANT.INITIAL' | translate }}</mat-label>
            <input formControlName="initial" matInput />
          </mat-form-field>
          <mat-form-field>
            <mat-label>{{ 'DEPENDANT.LASTNAME1' | translate }}</mat-label>
            <input formControlName="lastname1" matInput />
          </mat-form-field>
          <mat-form-field>
            <mat-label>{{ 'DEPENDANT.LASTNAME2' | translate }}</mat-label>
            <input formControlName="lastname2" matInput />
          </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutGap="5px">
          <mat-form-field>
            <mat-label>{{ 'DEPENDANT.SSN' | translate }}</mat-label>
            <input formControlName="ssn" matInput />
          </mat-form-field>
          <mat-form-field>
            <mat-label>{{ 'DEPENDANT.BIRTHDAY' | translate }}</mat-label>
            <input
              #inputBirth
              matInput
              [matDatepicker]="pickerBirth"
              formControlName="birthDate"
              [value]="pickerBirth"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="pickerBirth"
            ></mat-datepicker-toggle>
            <mat-datepicker #pickerBirth></mat-datepicker>
          </mat-form-field>
          <mat-form-field>
            <mat-label>{{ 'DEPENDANT.EMAIL' | translate }}</mat-label>
            <input formControlName="email" matInput />
          </mat-form-field>
          <mat-form-field>
            <mat-label>{{ 'DEPENDANT.GENDER' | translate }}</mat-label>
            <mat-select #options formControlName="gender">
              <mat-option
                *ngFor="let o of genreOptions; let i = index"
                [value]="o | translate"
                [selectedIndex]="i"
              >
                {{ o | translate }}</mat-option
              >
            </mat-select>
          </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutGap="5px">
          <mat-form-field>
            <mat-label>{{ 'DEPENDANT.PHONE_PRIMARY' | translate }}</mat-label>
            <input formControlName="phone1" matInput />
          </mat-form-field>
          <mat-form-field>
            <mat-label>{{ 'DEPENDANT.PHONE_SECONDARY' | translate }}</mat-label>
            <input formControlName="phone2" matInput />
          </mat-form-field>
          <mat-form-field>
            <mat-label>{{ 'DEPENDANT.RELATION' | translate }}</mat-label>
            <mat-select formControlName="relationshipTypes">
              <mat-option *ngFor="let rel of relations" [value]="rel">{{
                rel.name
              }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutGap="5px">
          <mat-form-field>
            <mat-label>{{ 'DEPENDANT.ACTUALPLAN' | translate }}</mat-label>
            <mat-select formControlName="plan" matInput>
              <mat-option *ngFor="let hp of healthPlans" [value]="hp">{{
                hp.name
              }}</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field>
            <mat-label>{{ 'DEPENDANT.ACTUALCOVER' | translate }}</mat-label>
            <mat-select formControlName="cover" matInput>
              <mat-option *ngFor="let c of covers" [value]="c">{{
                c.name
              }}</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field>
            <mat-label>{{ 'DEPENDANT.CONTRACT_NUM' | translate }}</mat-label>
            <input formControlName="contractNumber" matInput />
          </mat-form-field>
          <mat-form-field>
            <mat-label>{{ 'DEPENDANT.EFFECTDATE' | translate }}</mat-label>
            <input
              matInput
              [matDatepicker]="pickerEff"
              formControlName="effectiveDate"
              [value]="pickerEff"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="pickerEff"
            ></mat-datepicker-toggle>
            <mat-datepicker #pickerEff></mat-datepicker>
          </mat-form-field>
        </div>
      </mat-card-content>

      <mat-card-actions>
        <!-- *ngIf="(id && editAccess) || (!id && createAccess)" -->

        <button mat-stroked-button type="button" (click)="onBack()">
          <mat-icon>list</mat-icon>{{ 'BACK' | translate }}
        </button>
        <button
          type="submit"
          mat-raised-button
          color="primary"
          [disabled]="!reactiveForm.valid"
        >
          {{ 'SAVE' | translate }}
        </button>
      </mat-card-actions>
    </mat-card>
  </form>
</md-content>
<div class="loading-indicator" [hidden]="!loading">
  <mat-progress-spinner [mode]="'indeterminate'"> </mat-progress-spinner>
</div>
